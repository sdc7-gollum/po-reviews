CREATE SCHEMA stays AUTHORIZATION zdeckert;

CREATE TABLE reviews
(
  stay_id  NUMERIC (12,4) PRIMARY KEY,
  name VARCHAR(50),
  pic VARCHAR(255),
  date DATE,
  body VARCHAR,
  r_checking SMALLINT,
  r_accuracy SMALLINT,
  r_location SMALLINT,
  r_communication SMALLINT,
  r_cleanliness SMALLINT,
  r_value SMALLINT
) PARTITION BY RANGE (stay_id);

CREATE TABLE reviews_1 PARTITION OF reviews
  FOR VALUES FROM (1) TO (1000001);

CREATE TABLE reviews_2 PARTITION OF reviews
  FOR VALUES FROM (1000001) TO (2000001);

CREATE TABLE reviews_3 PARTITION OF reviews
  FOR VALUES FROM (2000001) TO (3000001);

CREATE TABLE reviews_4 PARTITION OF reviews
  FOR VALUES FROM (3000001) TO (4000001);

CREATE TABLE reviews_5 PARTITION OF reviews
  FOR VALUES FROM (4000001) TO (5000001);

CREATE TABLE reviews_6 PARTITION OF reviews
  FOR VALUES FROM (5000001) TO (6000001);

CREATE TABLE reviews_7 PARTITION OF reviews
  FOR VALUES FROM (6000001) TO (7000001);

CREATE TABLE reviews_8 PARTITION OF reviews
  FOR VALUES FROM (7000001) TO (8000001);

CREATE TABLE reviews_9 PARTITION OF reviews
  FOR VALUES FROM (8000001) TO (9000001);

CREATE TABLE reviews_10 PARTITION OF reviews
  FOR VALUES FROM (9000001) TO (10000001);

COPY reviews FROM '/Users/zdeckert/hrr45/sdc/po-reviews/reviews.csv' DELIMITER ',' CSV HEADER;